{% extends "base.html" %}

{% block title %}Documentation - Business Analytics Dashboard{% endblock %}

{% block content %}
<div class="documentation-page">
    <div class="hero-section text-center py-5 mb-5">
        <div class="container">
            <h1 class="display-4 fw-bold text-primary mb-4">
                <i class="fas fa-book me-3"></i>
                Documentation
            </h1>
            <p class="lead">
                Complete guide to using the Business Analytics Dashboard
            </p>
        </div>
    </div>

    <div class="container">
        <!-- Quick Navigation -->
        <div class="row mb-5">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <h4><i class="fas fa-compass me-2"></i>Quick Navigation</h4>
                        <div class="row">
                            <div class="col-md-3">
                                <a href="#installation" class="btn btn-outline-primary w-100 mb-2">
                                    <i class="fas fa-download me-1"></i> Installation
                                </a>
                            </div>
                            <div class="col-md-3">
                                <a href="#getting-started" class="btn btn-outline-primary w-100 mb-2">
                                    <i class="fas fa-play me-1"></i> Getting Started
                                </a>
                            </div>
                            <div class="col-md-3">
                                <a href="#analytics" class="btn btn-outline-primary w-100 mb-2">
                                    <i class="fas fa-chart-bar me-1"></i> Analytics
                                </a>
                            </div>
                            <div class="col-md-3">
                                <a href="#api" class="btn btn-outline-primary w-100 mb-2">
                                    <i class="fas fa-code me-1"></i> API
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Installation -->
        <section id="installation" class="mb-5">
            <h2 class="mb-4">
                <i class="fas fa-download me-2"></i>
                Installation
            </h2>
            <div class="card">
                <div class="card-body">
                    <h4>Prerequisites</h4>
                    <ul>
                        <li>Python 3.9 or higher</li>
                        <li>pip package manager</li>
                        <li>4GB+ RAM (for large datasets)</li>
                        <li>100MB+ disk space</li>
                    </ul>

                    <h4 class="mt-4">Step 1: Clone Repository</h4>
                    <pre><code>git clone https://github.com/LeviSantosAraujo/Business-Analytics-Reports.git
cd Business-Analytics-Reports</code></pre>

                    <h4 class="mt-4">Step 2: Create Virtual Environment</h4>
                    <pre><code>python -m venv .venv
source .venv/bin/activate  # On Windows: .venv\Scripts\activate</code></pre>

                    <h4 class="mt-4">Step 3: Install Dependencies</h4>
                    <pre><code>pip install -r requirements.txt</code></pre>

                    <h4>Step 4: Install Web Application</h4>
                    <pre><code>pip install flask</code></pre>

                    <h4 class="mt-4">Step 5: Verify Installation</h4>
                    <pre><code>python3 app.py</code></pre>
                </div>
            </div>
        </section>

        <!-- Getting Started -->
        <section id="getting-started" class="mb-5">
            <h2 class="mb-4">
                <i class="fas fa-play me-2"></i>
                Getting Started
            </h2>
            <div class="card">
                <div class="card-body">
                    <h4>Running the Web Application</h4>
                    <ol>
                        <li>Navigate to the project directory</li>
                        <li>Activate your virtual environment</li>
                        <li>Run the web application:
                            <pre><code>python3 app.py</code></pre>
                        </li>
                        <li>Open your browser and go to <code>http://localhost:5000</code></li>
                    </ol>

                    <h4 class="mt-4">Data Preparation</h4>
                    <p>Your data should be in Excel format with the following structure:</p>
                    <ul>
                        <li>Single column with comma-separated values</li>
                        <li>Format: <code>Date,Open,High,Low,Close,Adj Close,Volume</code></li>
                        <li>Example: <code>2023-01-01,100.00,105.00,99.00,104.50,104.50,1000000</code></li>
                    </ul>

                    <h4 class="mt-4">First Steps</h4>
                    <ol>
                        <li>Visit the <a href="{{ url_for('index') }}">Home Page</a> for an overview</li>
                        <li>Go to the <a href="{{ url_for('dashboard') }}">Dashboard</a> to see analytics</li>
                        <li>Explore different analytics modules</li>
                        <li>Generate reports and export data</li>
                    </ol>
                </div>
            </div>
        </section>

        <!-- Analytics Modules -->
        <section id="analytics" class="mb-5">
            <h2 class="mb-4">
                <i class="fas fa-chart-bar me-2"></i>
                Analytics Modules
            </h2>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <div class="card h-100">
                        <div class="card-header bg-primary text-white">
                            <h5 class="mb-0">Descriptive Analytics</h5>
                        </div>
                        <div class="card-body">
                            <h6>Purpose</h6>
                            <p>Basic statistics and data overview</p>
                            
                            <h6>Metrics</h6>
                            <ul>
                                <li>Data period and trading days</li>
                                <li>Average daily volume</li>
                                <li>Price ranges and averages</li>
                                <li>Basic statistical measures</li>
                            </ul>
                            
                            <h6>Use Cases</h6>
                            <p>Initial data exploration, quality assessment, basic insights</p>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 mb-3">
                    <div class="card h-100">
                        <div class="card-header bg-success text-white">
                            <h5 class="mb-0">Performance Analytics</h5>
                        </div>
                        <div class="card-body">
                            <h6>Purpose</h6>
                            <p>Returns calculation and performance metrics</p>
                            
                            <h6>Metrics</h6>
                            <ul>
                                <li>Total and annualized returns</li>
                                <li>Volatility measurements</li>
                                <li>Cumulative performance</li>
                                <li>Risk-adjusted returns</li>
                            </ul>
                            
                            <h6>Use Cases</h6>
                            <p>Investment performance evaluation, risk assessment, benchmarking</p>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 mb-3">
                    <div class="card h-100">
                        <div class="card-header bg-warning text-white">
                            <h5 class="mb-0">Technical Analytics</h5>
                        </div>
                        <div class="card-body">
                            <h6>Purpose</h6>
                            <p>Technical indicators and trading signals</p>
                            
                            <h6>Metrics</h6>
                            <ul>
                                <li>Moving averages (20, 50, 200-day)</li>
                                <li>RSI (Relative Strength Index)</li>
                                <li>Trading signals</li>
                                <li>Trend analysis</li>
                            </ul>
                            
                            <h6>Use Cases</h6>
                            <p>Trading decisions, market timing, trend identification</p>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 mb-3">
                    <div class="card h-100">
                        <div class="card-header bg-danger text-white">
                            <h5 class="mb-0">Risk Analytics</h5>
                        </div>
                        <div class="card-body">
                            <h6>Purpose</h6>
                            <p>Risk assessment and management metrics</p>
                            
                            <h6>Metrics</h6>
                            <ul>
                                <li>Value at Risk (VaR)</li>
                                <li>Maximum drawdown</li>
                                <li>Sharpe ratio</li>
                                <li>Risk levels</li>
                            </ul>
                            
                            <h6>Use Cases</h6>
                            <p>Risk management, portfolio optimization, compliance</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- API Documentation -->
        <section id="api" class="mb-5">
            <h2 class="mb-4">
                <i class="fas fa-code me-2"></i>
                API Documentation
            </h2>
            <div class="card">
                <div class="card-body">
                    <h4>Available Endpoints</h4>
                    
                    <div class="mb-4">
                        <h5>GET /api/analytics</h5>
                        <p>Returns all analytics data in JSON format for integration</p>
                        <p><strong>Use Case:</strong> Data integration, custom dashboards, reporting</p>
                    </div>

                    <div class="mb-4">
                        <h5>GET /api/chart/&lt;chart_type&gt;</h5>
                        <p>Returns chart data as images for presentations and reports</p>
                        <p><strong>Chart types:</strong> price, volume, returns, risk</p>
                        <p><strong>Use Case:</strong> Report generation, presentations, analysis</p>
                    </div>

                    <h4>Integration Benefits</h4>
                    <ul>
                        <li>Real-time data access</li>
                        <li>Flexible output formats</li>
                        <li>Easy integration with existing systems</li>
                        <li>Professional chart generation</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Configuration -->
        <section id="configuration" class="mb-5">
            <h2 class="mb-4">
                <i class="fas fa-cog me-2"></i>
                Configuration
            </h2>
            <div class="card">
                <div class="card-body">
                    <h4>Configuration Options</h4>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Setting</th>
                                    <th>Default</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Data File</td>
                                    <td>DevicesData.xlsx</td>
                                    <td>Path to your data file</td>
                                </tr>
                                <tr>
                                    <td>Risk-Free Rate</td>
                                    <td>2%</td>
                                    <td>Risk-free rate for calculations</td>
                                </tr>
                                <tr>
                                    <td>Chart Quality</td>
                                    <td>High (300 DPI)</td>
                                    <td>Chart resolution for exports</td>
                                </tr>
                                <tr>
                                    <td>Excel Reports</td>
                                    <td>Enabled</td>
                                    <td>Generate Excel reports</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h4 class="mt-4">Customization</h4>
                    <p>The platform can be customized to meet your specific needs:</p>
                    <ul>
                        <li>Adjust risk parameters and thresholds</li>
                        <li>Modify chart styling and colors</li>
                        <li>Configure report formats and layouts</li>
                        <li>Set up automated analysis schedules</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Troubleshooting -->
        <section id="troubleshooting" class="mb-5">
            <h2 class="mb-4">
                <i class="fas fa-wrench me-2"></i>
                Troubleshooting
            </h2>
            <div class="card">
                <div class="card-body">
                    <h4>Common Issues</h4>
                    
                    <div class="mb-3">
                        <h6>Application won't start</h6>
                        <p><strong>Solution:</strong> Ensure all dependencies are installed and use correct command: <code>python3 app.py</code></p>
                    </div>

                    <div class="mb-3">
                        <h6>Data file not found</h6>
                        <p><strong>Solution:</strong> Verify your data file is in the correct location and properly formatted</p>
                    </div>

                    <div class="mb-3">
                        <h6>Port already in use</h6>
                        <p><strong>Solution:</strong> Close other applications using port 5000 or use a different port</p>
                    </div>

                    <div class="mb-3">
                        <h6>Charts not displaying</h6>
                        <p><strong>Solution:</strong> Check browser settings and ensure all components are loaded properly</p>
                    </div>

                    <h4>Getting Help</h4>
                    <ul>
                        <li>Check the project repository for updates</li>
                        <li>Review the user guide and documentation</li>
                        <li>Contact support for technical assistance</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Examples -->
        <section id="examples" class="mb-5">
            <h2 class="mb-4">
                <i class="fas fa-lightbulb me-2"></i>
                Examples
            </h2>
            <div class="card">
                <div class="card-body">
                    <h4>Getting Started Guide</h4>
                    <ol>
                        <li>Prepare your data in Excel format</li>
                        <li>Launch the web application</li>
                        <li>Navigate to the dashboard</li>
                        <li>Explore the analytics modules</li>
                        <li>Generate reports and export results</li>
                    </ol>

                    <h4 class="mt-4">Data Requirements</h4>
                    <ul>
                        <li>Excel file with comma-separated values</li>
                        <li>Required columns: Date, Open, High, Low, Close, Adj Close, Volume</li>
                        <li>Consistent date format</li>
                        <li>Numeric values for price and volume data</li>
                    </ul>
                </div>
            </div>
        </section>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Smooth scrolling for navigation links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});

// Highlight current section in navigation
window.addEventListener('scroll', function() {
    const sections = document.querySelectorAll('section[id]');
    const navLinks = document.querySelectorAll('.nav-link');
    
    let current = '';
    sections.forEach(section => {
        const sectionTop = section.offsetTop;
        const sectionHeight = section.clientHeight;
        if (pageYOffset >= sectionTop - 200) {
            current = section.getAttribute('id');
        }
    });
});
</script>
{% endblock %}
